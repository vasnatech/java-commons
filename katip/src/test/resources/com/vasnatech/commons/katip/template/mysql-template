<<--foreach item="table" iterable="schema.getTables()"-->>
<<--set var="tableName" value="mysql.getTableName(table)"-->>
DROP TABLE <<--get value="tableName"-->>;
CREATE TABLE <<--get value="tableName"-->> (
<<--set var="row" value="1"-->>
<<--foreach item="column" iterable="table.getColumns()"-->>
<<--if condition="gt(row,1)"-->>,
<<--end-->>
    <<--get value="mysql.getColumnName(column)"-->> <<--get value="mysql.getColumnType(column)"-->> <<--if condition="not(column.isNullable())"-->>NOT <<--end-->>NULL
<<--set var="row" value="add(row,1)"-->>
<<--end-->>
<<--if condition="not(table.getPrimaryKey().isEmpty())"-->>,
<<--set var="row" value="1"-->>
    PRIMARY KEY(<<--foreach item="primaryCol" iterable="table.getPrimaryKey()"-->><<--if condition="gt(row,1)"-->>, <<--end-->><<--get value="mysql.getColumnName(table.getColumns().get(primaryCol))"-->><<--set var="row" value="add(row,1)"-->><<--end-->>)
<<--end-->>
)  ENGINE=INNODB;
<<--end-->>